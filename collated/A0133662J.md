# A0133662J
###### src\main\paddletask\command\api\EditTaskCommand.java
``` java
package main.paddletask.command.api;

import java.util.ArrayList;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.time.LocalDateTime;

import main.paddletask.task.api.TaskController;
import main.paddletask.task.entity.DeadlineTask;
import main.paddletask.task.entity.FloatingTask;
import main.paddletask.task.entity.Task;
import main.paddletask.task.entity.Task.RECUR_TYPE;
import main.paddletask.task.entity.TimedTask;

import main.paddletask.common.exception.InvalidCommandFormatException;
import main.paddletask.common.exception.InvalidPriorityException;
import main.paddletask.common.exception.NoSuchTaskException;
import main.paddletask.common.exception.UnchronologicalTimeException;
import main.paddletask.common.exception.UpdateTaskException;
import main.paddletask.common.util.DateTimeHelper;

public class EditTaskCommand extends Command {

    /*** Variables ***/
    private static final Logger LOGGER = LoggerFactory.getLogger(EditTaskCommand.class);
    private static final String TASK_TYPE_DEADLINE = "deadline";
    private static final String TASK_TYPE_TIMED = "timed";
    private static final String TASK_TYPE_FLOATING = "floating";
    private static final String TASK_TYPE_INVALID = "invalid";
    
    private static final String ERROR_MSG_GENERIC = "Error has occurred due to unexpected behavior";
    private static final String ERROR_MSG_ADD_START_TO_FLOAT = "You cannot add only a start Time/Date to a Floating Task!";
    private static final String ERROR_MSG_NO_SUCH_TASK = "Task with the following Task ID does not exist!";
    private static final String ERROR_MSG_UPDATE_TASK_FAIL = "Failed to store updated Task to Storage";
    private static final String ERROR_MSG_INVALID_PRIORITY = "The priority specified is invalid!";
    
    private static final String LOG_MSG_INFO_STORE_TASK = "EditTaskCommand: Storing updated task to Storage\n";
    private static final String LOG_MSG_SEVERE_GET_TASK_FAIL = "Executing EditTaskCommand getTaskFromStorage(): Retrieve Task with taskId -> {} failed";
    private static final String LOG_MSG_SEVERE_STORE_TASK_FAIL = "Executing EditTaskCommand storeTaskToStorage(): Storing Task with taskId -> {} failed";
    private static final String LOG_MSG_SEVERE_ADD_START_TO_FLOAT = "Executing EditTaskCommand: User attempt to add only start date/time to Floating Task";
    
    private static final int PRIORITY_MIN_LEVEL = 1;
    private static final int PRIORITY_MAX_LEVEL = 3;
    private static final int PRIORITY_NONE = -1;
    
    private ArrayList<Task> _executionResult;
    private int _taskId;
    private int _newPriority;
    private boolean _isValidEditCommand;
    private boolean _newRecurStatus;
    private RECUR_TYPE _newRecurType;
    private Task _originalTask;
    private Task _editedTask;
    private String _originalTaskType;
    private String _newDescription;
    private LocalDateTime _newStartDate;
    private LocalDateTime _newStartTime;
    private LocalDateTime _newEndDate;
    private LocalDateTime _newEndTime;
    private LocalDateTime _newReminder;

    public EditTaskCommand() {
        _originalTaskType = null;
        _newDescription = null;
        _newStartDate = null;
        _newStartTime = null;
        _newEndDate = null;
        _newEndTime = null;
        _newReminder = null;
        _newPriority = -1;
        _newRecurStatus = false;
        _isValidEditCommand = true;
        _executionResult = new ArrayList<Task>();
    }

    /*** Methods ***/
    /**
     * This method modifies a Task based on user input for the edit command
     * 
     * @return an ArrayList of Task objects that contains the modified Task
     *         object
     * @throws Exception 
     */
    @Override
    public ArrayList<Task> execute() throws Exception {
        retrieveOptions();
        getTaskFromStorage(_taskId);
        determineOriginalTaskType();
        createEditedTask();
        prepareExecutionResult();
        
        return _executionResult;
    }

    /**
     * This method reverse the previous execute() of the previous
     * EditTaskCommand
     * 
     * @return an ArrayList of Task objects that contains the modified Task
     *         object
     * @throws UpdateTaskException
     */
    public ArrayList<Task> undo() throws UpdateTaskException {
        prepareUndoTask();
        prepareExecutionResult();
        
        return _executionResult;
    }

    /**
     * This method modifies a Task based on user input for the edit command
     * 
     * @throws UpdateTaskException
     */
    private void prepareExecutionResult() throws UpdateTaskException {
        if (_isValidEditCommand) {
            _executionResult.clear();
            _executionResult.add(_editedTask);
            storeTaskToStorage(_editedTask);
        } else {
            _executionResult = null;
        }
    }
    
    /**
     * This method retrieves the parsed parameters stored in the Option object
     * in this EditTaskCommand
     */
    private void retrieveOptions() {
        setTaskIdOption();
        setNewDescriptionOption();
        setNewStartOption();
        setNewEnd();
        setNewReminder();
        setNewPriority();
        setNewRecurStatus();
    }

    private void prepareUndoTask() {
        Task temp = _editedTask;
        _editedTask = _originalTask;
        _originalTask = temp;
    }
    
    private void setTaskIdOption() {
        _taskId = getOption("edit").getIntegerValue();
    }

    private void setNewPriority() {
        if (hasOption("priority")) {
            _newPriority = getOption("priority").getIntegerValue();
        }
    }

    private void setNewReminder() {
        if (hasOption("remind")) {
            _newReminder = getOption("remind").getDateValue();
        }
    }

    private void setNewEnd() {
        if (hasOption("edate")) {
            _newEndDate = getOption("edate").getDateValue();
        }
        
        if (hasOption("etime")) {
            _newEndTime = getOption("etime").getDateValue();
        }
    }

    private void setNewStartOption() {
        if (hasOption("sdate")) {
            _newStartDate = getOption("sdate").getDateValue();
        }
        
        if (hasOption("stime")) {
            _newStartTime = getOption("stime").getDateValue();
        }
    }

    private void setNewDescriptionOption() {
        if (hasOption("desc")) {
            _newDescription = getOption("desc").getStringValue();
        }
    }

    private void setNewRecurStatus() {
        if (hasOption("repeat")) {
            _newRecurStatus = true;
            _newRecurType = Task.determineRecurType(getOption("repeat").getStringValue());
        }
    }
    
    private void determineOriginalTaskType() {
        switch (_originalTask.getType()) {
        case FLOATING :
            _originalTaskType = TASK_TYPE_FLOATING;
            break;
        case DEADLINE :
            _originalTaskType = TASK_TYPE_DEADLINE;
            break;
        case TIMED :
            _originalTaskType = TASK_TYPE_TIMED;
            break;
        default :
            _originalTaskType = TASK_TYPE_INVALID;
            _isValidEditCommand = false;
        }
    }

    /**
     * Instantiates the task object to be modified to the appropriate Task type
     * with the appropriate attributes
     * @throws Exception 
     */
    private void createEditedTask() throws Exception {
        switch (determineEditedTaskType()) {
            case TASK_TYPE_FLOATING :
                createNewFloatingTask();
                break;
            case TASK_TYPE_DEADLINE :
                createNewDeadlineTask();
                break;
            case TASK_TYPE_TIMED :
                createNewTimedTask();
                break;    
            case TASK_TYPE_INVALID :
                throw new Exception(ERROR_MSG_GENERIC);
        }
    }

    /**
     * Determines the resulting Task type of the Task object to be modified
     * based on user input from the edit command
     * 
     * @return a String that indicates the appropriate Task type for the Task
     *         object to be modified
     * @throws Exception 
     */
    private String determineEditedTaskType() throws Exception {
        boolean hasNewStartDate = _newStartDate != null;
        boolean hasNewStartTime = _newStartTime != null;;
        boolean hasNewEndDate = _newEndDate != null;
        boolean hasNewEndTime = _newEndTime != null;
        
        switch (_originalTaskType) {
            case TASK_TYPE_FLOATING :
                // If no start/end date/time is specified, task.type is still Floating
                if (!hasNewStartDate && !hasNewStartTime && !hasNewEndDate && !hasNewEndTime) {
                    return TASK_TYPE_FLOATING;
                 // If only an end date/time is specified, task.type is now a Deadline task
                } else if (!hasNewStartDate && !hasNewStartTime) { 
                    return TASK_TYPE_DEADLINE;
                 // If both new and end date/time is specified, task.type is now a Timed task
                } else if ((hasNewStartDate || hasNewStartTime) && (hasNewEndDate || hasNewEndTime)) {
                    return TASK_TYPE_TIMED;
                } else {
                    LOGGER.error(LOG_MSG_SEVERE_ADD_START_TO_FLOAT);
                    throw new InvalidCommandFormatException(ERROR_MSG_ADD_START_TO_FLOAT);
                }
    
            case TASK_TYPE_DEADLINE :
                if (hasNewStartDate || hasNewStartTime) {
                    return TASK_TYPE_TIMED;
                } else {
                    return TASK_TYPE_DEADLINE;
                }
    
            case TASK_TYPE_TIMED :
                return TASK_TYPE_TIMED;
    
            default :
                throw new Exception(ERROR_MSG_GENERIC);
        }
    }
    
    private void createNewFloatingTask() throws InvalidPriorityException {
        _editedTask = new FloatingTask(_originalTask.getTaskId(), getEditedTaskDescription(),
                _originalTask.getCreatedAt(), _originalTask.isComplete(), getEditedTaskPriority(),
                _originalTask.getTags());
    }

    private void createNewDeadlineTask() throws Exception {
        _editedTask = new DeadlineTask(_originalTask.getTaskId(), getEditedTaskDescription(),
                _originalTask.getCreatedAt(), getEditedTaskEnd(), getEditedTaskReminder(), _originalTask.isComplete(),
                getEditedTaskPriority(), _originalTask.getTags(),getEditedTaskRecurStatus(), getEditedTaskRecurType());
    }

    private void createNewTimedTask() throws InvalidPriorityException, Exception {
        LocalDateTime editedTaskStart = getEditedTaskStart();
        LocalDateTime editedTaskEnd = getEditedTaskEnd();
        if (DateTimeHelper.isLater(editedTaskStart, editedTaskEnd)) {
            throw new UnchronologicalTimeException("Start date/time is later than Deadine date/time!");
        }
        
        if (DateTimeHelper.isEqual(editedTaskStart, editedTaskEnd)) {
            throw new UnchronologicalTimeException("Start date/time is equal to Deadline date/time!");
        }
        
        _editedTask = new TimedTask(_originalTask.getTaskId(), getEditedTaskDescription(), _originalTask.getCreatedAt(),
                getEditedTaskStart(), getEditedTaskEnd(), getEditedTaskReminder(), _originalTask.isComplete(),
                getEditedTaskPriority(), _originalTask.getTags(),getEditedTaskRecurStatus(), getEditedTaskRecurType());
    }

    /*** Setter and Getter Methods ***/
    
    private String getEditedTaskDescription() {
        // If user specified a new description, use this
        if (_newDescription != null) {
            return _newDescription;
        } else {
            // Otherwise, use the original description
            return _originalTask.getDescription();
        }
    }

    private LocalDateTime getEditedTaskStart() {
        LocalDateTime editedTaskStartDate = getEditedTaskStartDate();
        LocalDateTime editedTaskStartTime = getEditedTaskStartTime();
        String editedStartDateTime = String.format("%1$s %2$s", DateTimeHelper.getDate(editedTaskStartDate), DateTimeHelper.getTime(editedTaskStartTime));
        
        return DateTimeHelper.parseStringToDateTime(editedStartDateTime);
    }
    
    private LocalDateTime getEditedTaskStartDate() {
        // If user specified a new Start date, use this
        if (_newStartDate != null) {
            return _newStartDate;
        } else if (isOriginalTaskFloating() || isOriginalTaskDeadline()){
            // Otherwise if edited Task Type is Deadline, set it to today
            //return getTimedTaskCastedOriginalTask().getStart();
            return DateTimeHelper.now();
        } else {
            // Otherwise, the edited Task Type should be TimedTask and we retrieve
            // original Start date
            return getTimedTaskCastedOriginalTask().getStart();
        }
    }
    
    private LocalDateTime getEditedTaskStartTime()   {
        // If user specified a new Start time, use this
        if (_newStartTime != null) {
            return _newStartTime;
        } else if (isOriginalTaskFloating() || isOriginalTaskDeadline()){
            // Otherwise, retrieve original Task casted to a TimedTask as only this Task
            // type has Start time
            return DateTimeHelper.now();
        } else {
            return getTimedTaskCastedOriginalTask().getStart();
        }
    }

    private LocalDateTime getEditedTaskEnd() {
        LocalDateTime editedTaskEndDate = getEditedTaskEndDate();
        LocalDateTime editedTaskEndTime = getEditedTaskEndTime();
        String editedTaskEndDateTime = String.format("%1$s %2$s", DateTimeHelper.getDate(editedTaskEndDate), DateTimeHelper.getTime(editedTaskEndTime));
        
        return DateTimeHelper.parseStringToDateTime(editedTaskEndDateTime);
    }
    
    private LocalDateTime getEditedTaskEndDate() {
        // If user specified a new End date/time, use this
        if (_newEndDate != null) {
            return _newEndDate;
        } else if (isOriginalTaskFloating()) {
            return DateTimeHelper.now();
        } else if (isOriginalTaskDeadline()) {
            return getDeadlineTaskCastedOriginalTask().getEnd();
        } else {
            return getTimedTaskCastedOriginalTask().getEnd();
        }
    }
    
    private LocalDateTime getEditedTaskEndTime() {
        if (_newEndTime != null) {
            return _newEndTime;
        } else if (isOriginalTaskFloating()) {
            return DateTimeHelper.now();
        } else if (isOriginalTaskDeadline()) {
            return getDeadlineTaskCastedOriginalTask().getEnd();
        } else {
            return getTimedTaskCastedOriginalTask().getEnd();
        }
    }

    private LocalDateTime getEditedTaskReminder() {
        // If user specified a new Reminder LocalDateTime, use this
        if (_newReminder != null) {
            return _newReminder;
        }  else {
            return DateTimeHelper.addMinutes(getEditedTaskEnd(), -5);
        }
    }

    private int getEditedTaskPriority() throws InvalidPriorityException {
        if (_newPriority == PRIORITY_NONE) {
            return _originalTask.getPriority();
        } else if (_newPriority < PRIORITY_MIN_LEVEL || _newPriority > PRIORITY_MAX_LEVEL) {
            // If new user specified priority is beyond the valid range [1..3], throw Error
            throw new InvalidPriorityException(ERROR_MSG_INVALID_PRIORITY);
        } else {
            return _newPriority;
        }
    }

    private boolean getEditedTaskRecurStatus() throws Exception {
        boolean newEditedRecurStatus;
        if (_newRecurStatus != false) {
            return true;
        } else if (isOriginalTaskFloating()) {
            newEditedRecurStatus = false;
        } else if (isOriginalTaskDeadline()) {
            newEditedRecurStatus = getDeadlineTaskCastedOriginalTask().isRecurring();
        } else if (isOriginalTaskTimed()) {
            newEditedRecurStatus = getTimedTaskCastedOriginalTask().isRecurring();
        } else {
            throw new Exception(ERROR_MSG_GENERIC);
        }
        return newEditedRecurStatus;
    }
    
    private RECUR_TYPE getEditedTaskRecurType() throws Exception {
        RECUR_TYPE newEditedRecurType;
        if (_newRecurStatus != false) {
            return _newRecurType;
        } else if (isOriginalTaskFloating()) {
            return newEditedRecurType = RECUR_TYPE.NULL;
        } else if (isOriginalTaskDeadline()) {
            newEditedRecurType = getDeadlineTaskCastedOriginalTask().getRecurPeriod();
        } else if (isOriginalTaskTimed()) {
            newEditedRecurType = getTimedTaskCastedOriginalTask().getRecurPeriod();
        } else {
            // Error has occur
            throw new Exception(ERROR_MSG_GENERIC);
        }
        return newEditedRecurType;
    }
    
    private DeadlineTask getDeadlineTaskCastedOriginalTask() {
        DeadlineTask castedOriginalTask = (DeadlineTask) _originalTask;
        
        return castedOriginalTask;
    }

    private TimedTask getTimedTaskCastedOriginalTask() {
        TimedTask castedOriginalTask = (TimedTask) _originalTask;
        
        return castedOriginalTask;
    }

    /**
     * This method calls the storageAPI to retrieve the Task object with this taskId
     * 
     * @param taskId
     *            the id of the Task object to retrieve
     * @throws NoSuchTaskException
     */
    private void getTaskFromStorage(int taskId) throws NoSuchTaskException {
        _originalTask = TaskController.getInstance().getTask(taskId);
        if (_originalTask == null) {
            LOGGER.error(LOG_MSG_SEVERE_GET_TASK_FAIL, taskId);
            throw new NoSuchTaskException(ERROR_MSG_NO_SUCH_TASK);
        }
    }

    private boolean isOriginalTaskFloating() {
        return _originalTaskType.equals(TASK_TYPE_FLOATING);
    }
    
    private boolean isOriginalTaskDeadline() {
        return _originalTaskType.equals(TASK_TYPE_DEADLINE);
    }
    
    private boolean isOriginalTaskTimed() {
        return _originalTaskType.equals(TASK_TYPE_TIMED);
    }
    /**
     * This method calls the storageAPI to store this Task object
     * 
     * @param task
     *            the Task object that is updated
     * @throws UpdateTaskException
     */
    private void storeTaskToStorage(Task task) throws UpdateTaskException {
        LOGGER.info(LOG_MSG_INFO_STORE_TASK);
        if (!TaskController.getInstance().updateTask(task)) {
            LOGGER.error(LOG_MSG_SEVERE_STORE_TASK_FAIL, _taskId);
            throw new UpdateTaskException(ERROR_MSG_UPDATE_TASK_FAIL);
        }
    }
}
```
###### src\main\paddletask\command\api\TagTaskCommand.java
``` java
package main.paddletask.command.api;

import java.util.ArrayList;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import main.paddletask.common.exception.NoSuchTaskException;
import main.paddletask.common.exception.UpdateTaskException;

import main.paddletask.task.api.TaskController;
import main.paddletask.task.entity.Task;

public class TagTaskCommand extends Command {

    /*** Variables ***/
    private static final Logger LOGGER = LoggerFactory.getLogger(EditTaskCommand.class);
    
    private static final String ERROR_MSG_NO_SUCH_TASK = "Task with the following Task ID does not exist!";
    private static final String ERROR_MSG_UPDATE_TASK_FAIL = "Failed to store updated Task to Storage";
    
    private static final String LOG_MSG_INFO_STORE_TASK = "TagTaskCommand: Storing updated task to Storage\n";
    private static final String LOG_MSG_SEVERE_GET_TASK_FAIL = "Executing TagTaskCommand: Retrieve Task with taskId -> {} failed";
    private static final String LOG_MSG_SEVERE_STORE_TASK_FAIL = "Executing TaskTaskCommand: storeTaskToStorage(): Storing Task with taskId -> {} failed\n";
    
    private ArrayList<String> _tagsToAdd;
    private ArrayList<String> _modifiedTaglist;
    private ArrayList<String> _originalTaglist;
    private ArrayList<Task> _executionResult;
    private Task _taskToEdit;
    private int _taskId;

    public TagTaskCommand() {
        _modifiedTaglist = new ArrayList<String>();
        _tagsToAdd = new ArrayList<String>();
        _executionResult = new ArrayList<Task>();
    }

    @Override
    public ArrayList<Task> execute() throws Exception {
        retrieveOptions();
        getTaskFromStorage(_taskId);
        processTags();
        prepareExecutionResult();
        return _executionResult;
    }

    @Override
    public ArrayList<Task> undo() throws Exception {
        prepareUndoTags();
        prepareExecutionResult();
        return _executionResult;
    }

    private void retrieveOptions() {
        setTaskIdOption();
        setTagsToAddOption();
    }

    private void prepareExecutionResult() throws UpdateTaskException {
        assert _modifiedTaglist != null;
        saveTagToTask(_modifiedTaglist);

        assert _taskToEdit != null;
        _executionResult.add(_taskToEdit);
    }

    private void prepareUndoTags() {
        ArrayList<String> temp = _originalTaglist;
        _originalTaglist = _modifiedTaglist;
        _modifiedTaglist = temp;
    }

    private void processTags() throws UpdateTaskException {
        archiveOriginalTags(getExistingTags());
        updateOriginalTags();
    }

    private void updateOriginalTags() {
        _modifiedTaglist = getExistingTags();
        
        for (String tagToAdd : _tagsToAdd) {
            boolean hasTag = false;
            for (String existingTag : _originalTaglist) {
                if (tagToAdd.equalsIgnoreCase(existingTag)) {
                    hasTag = true;
                }
            }
            
            if (!hasTag) {
                _modifiedTaglist.add(tagToAdd);
            }
        }
    }

    private void archiveOriginalTags(ArrayList<String> existingTags) {
        _originalTaglist = new ArrayList<String>();
        
        for (String existingTag : existingTags) {
            _originalTaglist.add(existingTag);
        }
    }

    private ArrayList<String> getExistingTags() {
        assert _taskToEdit != null;
        ArrayList<String> existingTags = _taskToEdit.getTags();
        
        return existingTags;
    }

    private void setTaskIdOption() {
        _taskId = getOption("tag").getIntegerValue();
    }
    
    private void setTagsToAddOption() {
        if (hasOption("#")) {
            int numTags = getOption("#").getValuesCount();
            for (int i = 0; i < numTags; i++) {
                _tagsToAdd.add((getOption("#").getStringValue(i)));
            }
        }
    }
    
    private void saveTagToTask(ArrayList<String> updatedTaskTags) throws UpdateTaskException {
        assert _taskToEdit != null;
        _taskToEdit.setTags(updatedTaskTags);
        storeTaskToStorage(_taskToEdit);
    }

    private void getTaskFromStorage(int taskId) throws NoSuchTaskException {
        _taskToEdit = TaskController.getInstance().getTask(taskId);
        
        if (_taskToEdit == null) {
            LOGGER.error(LOG_MSG_SEVERE_GET_TASK_FAIL, taskId);
            throw new NoSuchTaskException(ERROR_MSG_NO_SUCH_TASK);
        }
    }

    private void storeTaskToStorage(Task task) throws UpdateTaskException {
        LOGGER.info(LOG_MSG_INFO_STORE_TASK);
        if (!TaskController.getInstance().updateTask(task)) {
            LOGGER.error(LOG_MSG_SEVERE_STORE_TASK_FAIL, _taskId);
            throw new UpdateTaskException(ERROR_MSG_UPDATE_TASK_FAIL);
        }
    }
}
```
###### src\main\paddletask\command\api\UntagTaskCommand.java
``` java
package main.paddletask.command.api;

import java.util.ArrayList;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import main.paddletask.common.exception.NoSuchTaskException;
import main.paddletask.common.exception.UpdateTaskException;

import main.paddletask.task.api.TaskController;
import main.paddletask.task.entity.Task;

public class UntagTaskCommand extends Command {

    /*** Variables ***/
    private static final Logger LOGGER = LoggerFactory.getLogger(TagTaskCommand.class);
    
    private static final String ERROR_MSG_NO_SUCH_TASK = "Task with the following Task ID does not exist!";
    private static final String ERROR_MSG_UPDATE_TASK_FAIL = "Failed to store updated Task to Storage";
    
    private static final String LOG_MSG_INFO_STORE_TASK = "UntagTaskCommand: Storing updated task to Storage\n";
    private static final String LOG_MSG_SEVERE_GET_TASK_FAIL = "Executing UntagTaskCommand: Retrieve Task with taskId -> {} failed";
    private static final String LOG_MSG_SEVERE_STORE_TASK_FAIL = "Executing UntagTaskCommand: storeTaskToStorage(): Storing Task with taskId -> {} failed\n";
    
    private ArrayList<String> _tagsToRemove;
    private ArrayList<String> _modifiedTaglist;
    private ArrayList<String> _originalTaglist;
    private ArrayList<Task> _executionResult;
    private Task _taskToEdit;
    private static int _taskId;

    public UntagTaskCommand() {
        _modifiedTaglist = new ArrayList<String>();
        _tagsToRemove = new ArrayList<String>();
        _executionResult = new ArrayList<Task>();
    }

    /*** Methods ***/

    @Override
    public ArrayList<Task> execute() throws Exception {
        retrieveOptions();
        getTaskFromStorage(_taskId);
        processTags();
        prepareExecutionResult();
        return _executionResult;
    }

    public void retrieveOptions() {
        setTaskIdOption();
        setTagsToRemoveOption();
    }

    public void prepareExecutionResult() throws UpdateTaskException {
        assert _modifiedTaglist != null;
        saveTagToTask(_modifiedTaglist);

        assert _taskToEdit != null;
        _executionResult.add(_taskToEdit);
    }

    @Override
    public ArrayList<Task> undo() throws Exception {
        prepareUndoTags();
        prepareExecutionResult();
        return _executionResult;
    }

    private void prepareUndoTags() {
        ArrayList<String> temp = _originalTaglist;
        _originalTaglist = _modifiedTaglist;
        _modifiedTaglist = temp;
    }

    private void processTags() throws UpdateTaskException {
        archiveOriginalTaglist(getExistingTaglist());
        updateOriginalTaglist();
    }

    private void updateOriginalTaglist() {
        _modifiedTaglist = getExistingTaglist();
        _modifiedTaglist.removeAll(_tagsToRemove);
    }

    private void archiveOriginalTaglist(ArrayList<String> existingTags) {
        _originalTaglist = new ArrayList<String>();
        
        for (String existingTag : existingTags) {
            _originalTaglist.add(existingTag);
        }
    }

    private ArrayList<String> getExistingTaglist() {
        assert _taskToEdit != null;
        ArrayList<String> existingTags = _taskToEdit.getTags();
        
        return existingTags;
    }

    private void setTaskIdOption() {
        _taskId = getOption("untag").getIntegerValue();
    }
    
    private void setTagsToRemoveOption() {
        if (hasOption("#")) {
            int numTags = getOption("#").getValuesCount();
            for (int i = 0; i < numTags; i++) {
                _tagsToRemove.add((getOption("#").getStringValue(i)));
            }
        }
    }
    
    private void saveTagToTask(ArrayList<String> updatedTaskTags) throws UpdateTaskException {
        assert _taskToEdit != null;
        _taskToEdit.setTags(updatedTaskTags);
        storeTaskToStorage(_taskToEdit);
    }

    private void getTaskFromStorage(int taskId) throws NoSuchTaskException {
        _taskToEdit = TaskController.getInstance().getTask(taskId);
        if (_taskToEdit == null) {
            LOGGER.error(LOG_MSG_SEVERE_GET_TASK_FAIL, taskId);
            throw new NoSuchTaskException(ERROR_MSG_NO_SUCH_TASK);
        }
    }

    private void storeTaskToStorage(Task task) throws UpdateTaskException {
        LOGGER.info(LOG_MSG_INFO_STORE_TASK);
        if (!TaskController.getInstance().updateTask(task)) {
            LOGGER.error(LOG_MSG_SEVERE_STORE_TASK_FAIL, _taskId);
            throw new UpdateTaskException(ERROR_MSG_UPDATE_TASK_FAIL);
        }
    }

}
```
###### src\main\paddletask\common\data\SearchResult.java
``` java
package main.paddletask.common.data;

import main.paddletask.task.entity.Task;

public class SearchResult implements Comparable<SearchResult> {
	
	private Integer matchCount;
	private Task matchedTask;

	public SearchResult(Integer _matchCount, Task _matchedTask) {
		matchCount = _matchCount;
		matchedTask = _matchedTask;
	}
	
	public Integer getMatchCount() {
		return matchCount;
	}
	
	public Task getMatchedTask() {
		return matchedTask;
	}

	@Override
	public int compareTo(SearchResult o) {
		int thisId = this.getMatchedTask().getTaskId();
		int oId = o.getMatchedTask().getTaskId();
		String thisDescription = this.getMatchedTask().getDescription();
		String oDescription = this.getMatchedTask().getDescription();
		
		if (!this.getMatchCount().equals(o.getMatchCount())) {
			return o.getMatchCount() - this.getMatchCount();
		} else if (!thisDescription.equals(oDescription)) {
			return oDescription.compareTo(thisDescription);
		} else {
			return thisId - oId;
		}
	}
}
```
###### src\main\paddletask\common\exception\NoSuchTaskException.java
``` java
package main.paddletask.common.exception;

@SuppressWarnings("serial")
public class NoSuchTaskException extends PaddleTaskException {
	
	public NoSuchTaskException(String message) {
		super(message);
	}
	
}
```
###### src\main\paddletask\logic\api\LogicController.java
``` java
package main.paddletask.logic.api;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Observable;
import java.util.Observer;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import main.paddletask.command.api.Command;
import main.paddletask.command.api.*;
import main.paddletask.common.exception.InvalidRedoException;
import main.paddletask.common.exception.InvalidUndoException;
import main.paddletask.common.exception.NoTaskStateException;

import main.paddletask.parser.api.CommandParser;

import main.paddletask.task.entity.Task;
import main.paddletask.task.entity.TaskComparator;

public class LogicController extends Observable {

    /*** Variable ***/
    private static final Logger LOGGER = LoggerFactory.getLogger(LogicController.class);
    
    private static final String LOG_MSG_INFO_INIT_LOGIC_CONTROLLER = "Intialising LogicController";
    private static final String LOG_MSG_SEVERE_NO_TASK_STATE = "LogicController:parseCommand(): Attempt to read state when there are no tasks";
    
    private static final String ERROR_MSG_NO_TASK_STATE = "Please perform a view to retrieve a list of task so that you can perform this command!";
    

	private static final String ADD_MSG_SUCCESS = "New task added successfully\n";
	private static final String COMPLETE_MSG_SUCCESS = "Selected task completed successfully\n";
	private static final String DELETE_MSG_SUCCESS = "Selected task deleted successfully\n";
	private static final String EDIT_MSG_SUCCESS = "Selected task edited successfully\n";
	private static final String MORE_MSG_SUCCESS = "Showing full details of selected task\n";
	private static final String REDO_MSG_SUCCESS = "Previous undo redone successfully\n";
	private static final String UNDO_MSG_SUCCESS = "Previous command undone successfully\n";
	private static final String SETDIR_MSG_SUCCESS = "Set directory successfully\n";
	private static final String TAG_MSG_SUCCESS = "Selected task tagged successfully\n";
	private static final String UNTAG_MSG_SUCCESS = "Selected task untagged successfully\n";
	private static final String EMPTY_MSG_SUCCESS = "";
    
    private static LogicController _thisInstance;
    private static CommandParser _parserInstance;
    private static TaskComparator _taskComparatorInstance;
    private static ArrayList<Task> _deliveredTaskState;
    private static Observer _observer;
    
    private String successMessage;

    /*** Constructor ***/
    public LogicController() {
        LOGGER.info(LOG_MSG_INFO_INIT_LOGIC_CONTROLLER);
        _parserInstance = new CommandParser();
        _deliveredTaskState = new ArrayList<Task>();
        _taskComparatorInstance = new TaskComparator();
    }

    /*** Methods ***/

    /**
     * Retrieves a Singleton instance of a LogicController
     * 
     * @param mainObserver
     *          The observer view passed from the caller
     * @return an instance of LogicController
     */
    public static LogicController getInstance(Observer mainObserver) {
        if (_thisInstance == null) {
            _observer = mainObserver;
            _thisInstance = new LogicController();
        }
        
        return _thisInstance;
    }
    
    // API for UI component to access LogicController
    public ArrayList<Task> processCommand(String userInput) {
        return handleCommand(userInput);
    }

    private Command parseCommand(String userInput) throws Exception {
        assert(userInput != null);
        Command command;
        // If userinput is a command that requires the state such as "edit <running index>"
        // or "delete <running index>", send both the user input and the state to the Parser
        if (_parserInstance.isStatefulCommand(userInput)) {
            if (_deliveredTaskState.isEmpty()) {
                LOGGER.error(LOG_MSG_SEVERE_NO_TASK_STATE);
                throw new NoTaskStateException(ERROR_MSG_NO_TASK_STATE);
            } else {
                command = _parserInstance.parse(userInput, getStateTaskId());
            }
        } else {
            // Otherwise, send only the user input to the Parser
            command = _parserInstance.parse(userInput);
        }

        return command;
    }

    private ArrayList<Task> executeCommand(Command command, String userInput) throws Exception {
        command.addObserver(_observer);
        ArrayList<Task> executionResult = new ArrayList<Task>();
        
        // If userinput is a Command that will update the state such as "view all"
        // or "search <sequence>", execute the Command and update the state with the result
        if (_parserInstance.isSaveStateCommand(userInput)) {
            executionResult = command.execute();
            // If the Command is a "Search", sort the results based on degree of match
            // details specified in TaskComparator implementation
            if (!isSearch(command)) {
                Collections.sort(executionResult, _taskComparatorInstance);
            }
            _deliveredTaskState = executionResult;
        } else {
            // Otherwise, execute all other Command without updating the state
            // with the result
            executionResult = command.execute();
        }
        
        return executionResult;
    }

    private ArrayList<Task> handleCommand(String userInput) {
        ArrayList<Task> executionResult;
        Command command;
        // Attempt to parse and execute the Command specified by user input
        try {
            command = parseCommand(userInput);
            
        } catch (Exception e) {
            // If an Exception is encounted during the Command parsing or
            // Command execution, update the observer with the Error messages
            setChanged();
            notifyObservers(e.getMessage());
            return null;
        }
        
        setSuccessMessage(command);
        
        try {
            executionResult = executeCommand(command, userInput);
        } catch (InvalidRedoException | InvalidUndoException e) { 
            setChanged();
            notifyObservers(e.getMessage());
            return null;
        } catch (Exception e) {
            if (!Command.getCommandList().isEmpty()) {
                Command.getCommandList().pop();
            }
            setChanged();
            notifyObservers(e.getMessage());
            return null;
        }
        return executionResult;
    }

    private void setSuccessMessage(Command command) {
    	if (command instanceof AddTaskCommand) {
    		successMessage = ADD_MSG_SUCCESS;
    	} else if (command instanceof CompleteTaskCommand) {
    		successMessage = COMPLETE_MSG_SUCCESS;
    	} else if (command instanceof DeleteTaskCommand) {
    		successMessage = DELETE_MSG_SUCCESS;
    	} else if (command instanceof EditTaskCommand) {
    		successMessage = EDIT_MSG_SUCCESS;
    	} else if (command instanceof MoreCommand) {
    		successMessage = MORE_MSG_SUCCESS;
    	} else if (command instanceof RedoCommand) {
    		successMessage = REDO_MSG_SUCCESS;
    	} else if (command instanceof UndoCommand) {
    		successMessage = UNDO_MSG_SUCCESS;
    	} else if (command instanceof SetDirectoryCommand) {
    		successMessage = SETDIR_MSG_SUCCESS;
    	} else if (command instanceof TagTaskCommand) {
    		successMessage = TAG_MSG_SUCCESS;
    	} else if (command instanceof UntagTaskCommand) {
    		successMessage = UNTAG_MSG_SUCCESS;
    	} else {
    		successMessage = EMPTY_MSG_SUCCESS;
    	}
	}

	// Pull out the task ID of all Task in the state so that it can be 
    // passed to the Parser for stateful command parsing
    private int[] getStateTaskId() {
        int numId = _deliveredTaskState.size();
        int[] stateIndexes = new int[numId];
        for (int i = 0; i < numId; i++) {
            stateIndexes[i] = _deliveredTaskState.get(i).getTaskId();
        }
        
        return stateIndexes;
    }

    private boolean isSearch(Command command) {
        if (command instanceof SearchTaskCommand) {
            return true;
        } else {
            return false;
        }
    }

	public String getSuccessfulMessage() {
		return successMessage;
	}
}
```
###### src\main\paddletask\task\entity\TaskComparator.java
``` java
package main.paddletask.task.entity;

import java.time.LocalDateTime;
import java.util.Comparator;

import main.paddletask.task.entity.Task.TASK_TYPE;

public class TaskComparator implements Comparator<Task> {

	@Override
	public int compare(Task o1, Task o2) {
		if (o1.getPriority() != o2.getPriority()) {
			return o1.getPriority() - o2.getPriority();
		} else if (!o1.getType().equals(TASK_TYPE.FLOATING) && !o2.getType().equals(TASK_TYPE.FLOATING)) {
			return getTaskEnd(o1).compareTo(getTaskEnd(o2));
		} else if (!o1.getType().equals(TASK_TYPE.FLOATING) && o2.getType().equals(TASK_TYPE.FLOATING)) {
			return -1;
		} else if (o1.getType().equals(TASK_TYPE.FLOATING) && !o2.getType().equals(TASK_TYPE.FLOATING)) {
			return 1;
		} else {
			return o1.getTaskId() - o2.getTaskId();
		}
	}

	private LocalDateTime getTaskEnd(Task task) {
		if (task.getType().equals(TASK_TYPE.DEADLINE)) {
			return castToDeadline(task).getEnd();
		} else if (task.getType().equals(TASK_TYPE.TIMED)) {
			return castToTimed(task).getEnd();
		} else {
			return null;
		}
	}
	
	private DeadlineTask castToDeadline(Task task) {
		return (DeadlineTask) task;
	}
	
	private TimedTask castToTimed(Task task) {
		return (TimedTask) task;
	}
}
```
###### src\test\cases\TestEditTaskCommand.java
``` java
package test.cases;

import static org.junit.Assert.*;

import java.time.LocalDateTime;
import java.util.ArrayList;

import org.junit.Before;
import org.junit.Test;
import org.w3c.dom.Document;

import main.paddletask.command.api.EditTaskCommand;
import main.paddletask.command.api.ViewTaskCommand;
import main.paddletask.storage.api.StorageController;
import main.paddletask.task.api.TaskController;
import main.paddletask.task.entity.DeadlineTask;
import main.paddletask.task.entity.FloatingTask;
import main.paddletask.task.entity.Task;
import main.paddletask.task.entity.TimedTask;
import main.paddletask.parser.api.CommandParser;
import main.paddletask.common.util.DateTimeHelper;

public class TestEditTaskCommand {
    /*
     * Test Assumption: 
     * 1. StorageController is working correctly 
     * 2. TaskController is working correctly 
     * 3. CommandParser is working correctly
     */

    /*** Variables ***/
    protected static ArrayList<Task> _testTaskList;
    protected static ArrayList<Task> _testStateList;
    protected static StorageController _storageControllerInstance;
    protected static TaskController _taskControllerInstance;
    protected static CommandParser _commandParserInstance;
    protected static int[] _stateTaskId;

    protected static String _dummy_userCommand;
    protected static EditTaskCommand _dummy_editTaskCommand;
    protected static FloatingTask _dummy_floatingTask;
    protected static DeadlineTask _dummy_deadlineTask;
    protected static TimedTask _dummy_timedTask;
    protected static Task _dummy_genericTask;

    /*** Final Constants ***/
    protected static final String WHITE_SPACE = " ";
    
    // id,
    // description,
    // end,
    // start,
    // reminder
    // priority
    // recurType
    protected static final String TEST_COMMAND = "edit %1$s%2$s%3$s%4$s%5$s%6$s%7$s%8$s%9$s"; 
    protected static final String TEST_DATE_FORMAT = "%1$s %2$s";
    
    protected static final int TEST_SAMPLE_FLOAT_ID = 0;
    protected static final int TEST_SAMPLE_DEADLINE_ID = 1;
    protected static final int TEST_SAMPLE_TIMED_ID = 2;
    
    protected static final int TEST_SAMPLE_FLOAT_INDEX = 1;
    protected static final int TEST_SAMPLE_DEADLINE_INDEX = 2;
    protected static final int TEST_SAMPLE_TIMED_INDEX = 3;
    protected static final int TEST_SAMPLE_PRIORITY = 1;
    
    
    protected static final int TEST_TASK_DEFAULT_PRIORITY = 3;
    
    protected static final String TEST_SAMPLE_DESCRIPTION = "Lorem ipsum dolor";
    protected static final String TEST_SAMPLE_END_DATE = DateTimeHelper.getDate(DateTimeHelper.addDays(DateTimeHelper.now(), 2));
    protected static final String TEST_SAMPLE_TODAY_DATE = DateTimeHelper.getDate(DateTimeHelper.now());
    protected static final String TEST_SAMPLE_END_TIME = "23:59";
    protected static final String TEST_SAMPLE_START_DATE = DateTimeHelper.getDate(DateTimeHelper.addDays(DateTimeHelper.now(), -1));
    protected static final String TEST_SAMPLE_START_TIME = "10:00";
    protected static final String TEST_SAMPLE_REMINDER_DATE_TIME = DateTimeHelper.parseDateTimeToString(DateTimeHelper.addDays(DateTimeHelper.now(), 3));;
    
    protected static final String TEST_KEYWORD_DESC = " desc ";
    protected static final String TEST_KEYWORD_END_DATE = " edate ";
    protected static final String TEST_KEYWORD_END_TIME = " etime ";
    protected static final String TEST_KEYWORD_START_DATE = " sdate ";
    protected static final String TEST_KEYWORD_START_TIME = " stime ";
    protected static final String TEST_KEYWORD_REMIND = " remind ";
    protected static final String TEST_KEYWORD_PRIORITY = " priority ";
    protected static final String TEST_KEYWORD_RECURDAY = " repeat daily ";
    protected static final String TEST_KEYWORD_RECURWEEK = " repeat weekly ";
    protected static final String TEST_KEYWORD_RECURMONTH = " repeat monthly ";
    protected static final String TEST_KEYWORD_RECURYEAR = " repeat yearly ";
    protected static final String TEST_KEYWORD_EMPTY = "";
    
    protected static final String DEADLINE_CREATED_SAMPLE_END_DATE = DateTimeHelper.getDate(DateTimeHelper.addDays(DateTimeHelper.now(), 1));
    protected static final String DEADLINE_CREATED_SAMPLE_END_TIME = "08:00";
    protected static final String TIMED_CREATED_SAMPLE_START_DATE = DateTimeHelper.getDate(DateTimeHelper.addDays(DateTimeHelper.now(), 1));
    protected static final String TIMED_CREATED_SAMPLE_START_TIME = "12:00";
    protected static final String TIMED_CREATED_SAMPLE_END_DATE = DateTimeHelper.getDate(DateTimeHelper.addDays(DateTimeHelper.now(), 1));
    protected static final String TIMED_CREATED_SAMPLE_END_TIME = "16:00";
    
    protected static final Task.TASK_TYPE TEST_TASKTYPE_FLOATING = Task.TASK_TYPE.FLOATING;
    protected static final Task.TASK_TYPE TEST_TASKTYPE_DEADLINE = Task.TASK_TYPE.DEADLINE;
    protected static final Task.TASK_TYPE TEST_TASKTYPE_TIMED = Task.TASK_TYPE.TIMED;

    protected static final Task.RECUR_TYPE TEST_RECURTYPE_NULL = Task.RECUR_TYPE.NULL;
    protected static final Task.RECUR_TYPE TEST_RECURTYPE_DAY = Task.RECUR_TYPE.DAY;
    protected static final Task.RECUR_TYPE TEST_RECURTYPE_WEEK = Task.RECUR_TYPE.WEEK;
    protected static final Task.RECUR_TYPE TEST_RECURTYPE_MONTH = Task.RECUR_TYPE.MONTH;
    protected static final Task.RECUR_TYPE TEST_RECURTYPE_YEAR = Task.RECUR_TYPE.YEAR;
    
    /*** FloatingTask Test Case Descriptions ***/
    protected static final String TEST_FLOATING_EDIT_DESCRIPTION = "Test editing Floating Task description";
//    protected static final String TEST_FLOATING_ADD_END_DATE = "Test adding only an End date to a Floating Task";
//    protected static final String TEST_FLOATING_ADD_END_DATE_AND_REMINDER = "Test adding only an End date and a custom Reminder to a Floating Task";
    protected static final String TEST_FLOATING_ADD_END_TIME = "Test adding only an End time to a Floating Task";
    protected static final String TEST_FLOATING_ADD_END_TIME_AND_REMINDER = "Testing adding only an End time and a custom Reminder to a Floating Task";
    protected static final String TEST_FLOATING_ADD_END_DATE_TIME = "Test adding both an End time and date to a Floating Task";
    protected static final String TEST_FLOATING_ADD_END_DATE_TIME_AND_REMINDER = "Testing adding both an End time,date and a Reminder to a Floating task";
//    protected static final String TEST_FLOATING_ADD_START_DATE_AND_END_DATE_TIME = "Test adding only a Start date and both an End date/time";
    protected static final String TEST_FLOATING_ADD_START_DATE_AND_END_TIME = "Test adding a Start date only and an End time only to a Floating Task";
    protected static final String TEST_FLOATING_ADD_START_TIME_AND_END_TIME = "Test adding a Start time only and an End time only to a Floating Task";
    protected static final String TEST_FLOATING_ADD_START_DATE_TIME_AND_END_TIME = "Test adding both Start date/time only and an End time only to a Floating Task";
    protected static final String TEST_FLOATING_ADD_START_DATE_AND_END_DATE = "Test adding a Start date only and an End date only to a Floating Task";
    protected static final String TEST_FLOATING_ADD_START_TIME_AND_END_DATE = "Test adding a Start time only and an End date only to a Floating Task";
    protected static final String TEST_FLOATING_ADD_START_DATE_TIME_AND_END_DATE = "Test adding both a Start date/time and an End date only";
    protected static final String TEST_FLOATING_ADD_START_TIME_AND_END_DATE_TIME = "Test adding only a Start time and both an End date/time";
    protected static final String TEST_FLOATING_ADD_START_DATE_AND_END_DATE_TIME = "Testing add only a Start date and both an End date/time";
    protected static final String TEST_FLOATING_ADD_START_DATE_TIME_AND_END_DATE_TIME = "Testing add both a Start date/time and both an End date/time";
    protected static final String TEST_FLOATING_EDIT_PRIORITY = "Test editing the priority level of a Floating Task";
    
    /*** DeadlineTask Test Case Descriptions ***/
    protected static final String TEST_DEADLINE_EDIT_DESCRIPTION = "Test editing Deadline Task description";
    protected static final String TEST_DEADLINE_EDIT_END_DATE = "Test editing a Deadline Task's End date only";
    protected static final String TEST_DEADLINE_EDIT_END_DATE_AND_REMINDER = "Test editing a Deadline Task's End date and Reminder";
    protected static final String TEST_DEADLINE_EDIT_END_TIME = "Test editing a Deadline Task's End time only";
    protected static final String TEST_DEADLINE_EDIT_END_TIME_AND_REMINDER = "Test editing a Deadline Task's End time and Reminder";
    protected static final String TEST_DEADLINE_EDIT_END_DATE_TIME = "Test editing a Deadline Task's End date and time";
    protected static final String TEST_DEADLINE_EDIT_END_DATE_TIME_AND_REMINDER = "Test editing a Deadline Task's End date,time and Reminder";
    protected static final String TEST_DEADLINE_ADD_START_DATE = "Test adding a Start date only to a Deadline Task";
    protected static final String TEST_DEADLINE_ADD_START_TIME = "Test adding a Start time only to a Deadline Task";
    protected static final String TEST_DEADLINE_ADD_START_DATE_TIME = "Test adding both a Start date/time to a Deadline Task";
    protected static final String TEST_DEADLINE_EDIT_PRIORITY = "Test editing the priority level of a Deadline Task";
    protected static final String TEST_DEADLINE_EDIT_RECURTYPE_DAY = "Testing editing the recur type of a Deadline Task to 'every day'";
    protected static final String TEST_DEADLINE_EDIT_RECURTYPE_WEEK = "Testing editing the recur type of a Deadline Task to 'every week'";;
    protected static final String TEST_DEADLINE_EDIT_RECURTYPE_MONTH = "Testing editing the recur type of a Deadline Task to 'every month'";;
    protected static final String TEST_DEADLINE_EDIT_RECURTYPE_YEAR = "Testing editing the recur type of a Deadline Task to 'every year'";;
    
    /*** TimedTask Test Case Descriptions ***/
    protected static final String TEST_TIMED_EDIT_DESCRIPTION = "Test editing a Timed Task description";
    protected static final String TEST_TIMED_EDIT_END_DATE = "Test editing a Timed Task's End date only";
    protected static final String TEST_TIMED_EDIT_END_DATE_AND_REMINDER = "Test editing a Timed Task's End date and Reminder";
    protected static final String TEST_TIMED_EDIT_END_TIME = "Test editing a Timed Task's End time only";
    protected static final String TEST_TIMED_EDIT_END_TIME_AND_REMINDER = "Test editing a Timed Task's End time and Reminder";
    protected static final String TEST_TIMED_EDIT_END_DATE_TIME = "Test editing a Timed Task's End date and time";
    protected static final String TEST_TIMED_EDIT_END_DATE_TIME_AND_REMINDER = "Test editing a Timed Task's both End date/time and a new Reminder";
    protected static final String TEST_TIMED_EDIT_START_DATE = "Test editing a Timed Task's Start date only";
    protected static final String TEST_TIMED_EDIT_START_DATE_AND_REMINDER = "Testing editing a Timed Task's Start date and Reminder";
    protected static final String TEST_TIMED_EDIT_START_TIME = "Test editing a Timed Task's Start time only";
    protected static final String TEST_TIMED_EDIT_START_TIME_AND_REMINDER = "Testing editing a Timed Task's Start time and Reminder";
    protected static final String TEST_TIMED_EDIT_START_DATE_TIME = "Test editing a Timed Task's Start date and time";
    protected static final String TEST_TIMED_EDIT_START_DATE_TIME_REMINDER = "Test editing a Timed Task's both Start date/time and a new Reminder";
    protected static final String TEST_TIMED_EDIT_START_TIME_END_DATE = "Test editing a Timed Task's Start time and End date only";
    protected static final String TEST_TIMED_EDIT_START_DATE_END_TIME = "Test editing a Timed Task's Start date and End time only";
    protected static final String TEST_TIMED_EDIT_START_DATE_TIME_END_DATE_TIME = "Testing editing a Timed Task's both Start date/time and End date/time";
    protected static final String TEST_TIMED_EDIT_RECURTYPE_DAY = "Testing editing the recur type of a Timed Task to 'every day'";
    protected static final String TEST_TIMED_EDIT_RECURTYPE_WEEK = "Testing editing the recur type of a Timed Task to 'every week'";;
    protected static final String TEST_TIMED_EDIT_RECURTYPE_MONTH = "Testing editing the recur type of a Timed Task to 'every month'";;
    protected static final String TEST_TIMED_EDIT_RECURTYPE_YEAR = "Testing editing the recur type of a Timed Task to 'every year'";;
    
    /*** Setup ***/
    @Before
    public void setUp() throws Exception {
        _storageControllerInstance = StorageController.getInstance();
        _testTaskList = repopulateTask();
        _taskControllerInstance = TaskController.getInstance();
        _commandParserInstance = new CommandParser();
    }

    public ArrayList<Task> repopulateTask() throws Exception {
        ArrayList<Task> testTaskList = new ArrayList<Task>();
        _commandParserInstance = new CommandParser();
        
        // Populate sample arraylist
        Task task;
        LocalDateTime sampleDeadlineEnd = DateTimeHelper.parseStringToDateTime(String.format(TEST_DATE_FORMAT, DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME));
        LocalDateTime sampleTimedStart = DateTimeHelper.parseStringToDateTime(String.format(TEST_DATE_FORMAT , TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME));
        LocalDateTime sampleTimedEnd = DateTimeHelper.parseStringToDateTime(String.format(TEST_DATE_FORMAT, TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME));
        LocalDateTime sampleReminder = DateTimeHelper.parseStringToDateTime(TEST_SAMPLE_REMINDER_DATE_TIME);
        
        // Float Constructor: taskId | description | createdAt | isComplete | priority | 
        // Deadline Constructor: taskId | description | createdAt | end | reminder | isComplete | priority | isRecurring | recurType
        // Timed Constructor: taskId | description | createdAt | start | end | reminder | isComplete | priority | isRecurring | recurType
        
        // Sample Floating Task
        task = new FloatingTask(TEST_SAMPLE_FLOAT_ID, "Test Floating Task", DateTimeHelper.now(), false, 3);
        testTaskList.add(task);
        
        // Sample Deadline Task
        task = new DeadlineTask(TEST_SAMPLE_DEADLINE_ID, "Test Deadline Task", DateTimeHelper.now(), sampleDeadlineEnd, sampleReminder, false, 3, false, TEST_RECURTYPE_NULL);
        testTaskList.add(task);
        
        // Sample Timed Task
        task = new TimedTask(TEST_SAMPLE_TIMED_ID, "Test TimedTask", DateTimeHelper.now(), sampleTimedStart, sampleTimedEnd, sampleReminder, false, 3, false, TEST_RECURTYPE_NULL);
        testTaskList.add(task);
        
        // Save sample tasks into XML
        Document doc = _storageControllerInstance.parseTask(testTaskList);
        _storageControllerInstance.writeXml(doc);
        initTaskState();
        return testTaskList;
    }

    public void initTaskState() throws Exception {
        String viewInputCommand = "view";
        ViewTaskCommand viewCommand = (ViewTaskCommand) _commandParserInstance.parse(viewInputCommand);
        _testStateList = viewCommand.execute();
    }

    public int[] initStateTaskId() {
        int numIds = _testStateList.size();
        _stateTaskId = new int[numIds];
        for (int i = 0; i < numIds; i++) {
            _stateTaskId[i] = _testStateList.get(i).getTaskId();
        }
        return _stateTaskId;
    }

    public void prepareDummyData() throws Exception {
        _testTaskList = repopulateTask();
        Task.setTaskList(_testTaskList);
    }

    public Task getTestTask(Task.TASK_TYPE type) {
        if (type.equals(Task.TASK_TYPE.FLOATING)) {
            return _dummy_floatingTask;
        } else if (type.equals(Task.TASK_TYPE.DEADLINE)) {
            return _dummy_deadlineTask;
        } else {
            return _dummy_timedTask;
        }
    }
    /*** Test Cases ***/

    /**
     * Returns a Command String specified by the input parameters that will
     * represent a valid user input to PaddleTask
     * 
     * @param runningIndex
     *            Index of the Task to edit
     * @param desc
     *            New description of the edited Task
     * @param endDate
     *            New end date of the edited Task
     * @param endTime
     *            New end time of the edited Task
     * @param startDate
     *            New start date of the edited Task
     * @param startTime
     *            New start time of the edited Task
     * @param remind
     *            New reminder of the edited Task (both date and time)
     * @param priority
     *            New priority of the edited Task 
     * @param recurType
     *            New RECUR period type of the edit Task (NULL, DAILY, WEEKLY, MONTHLY, YEARLY)
     
     * @return The Command String that will be used as dummy user input
     */
    public String getTestCommand(int runningIndex, String desc, String endDate, String endTime, 
                                 String startDate, String startTime, String remind, int priority, Task.RECUR_TYPE recurType) {
        String formattedCommand = TEST_KEYWORD_EMPTY;
        String editPriority = TEST_KEYWORD_EMPTY;
        String editRecur = TEST_KEYWORD_EMPTY;
                
        if (remind != TEST_KEYWORD_EMPTY) {
            remind = TEST_KEYWORD_REMIND + remind;
        }
        
        if (endDate != TEST_KEYWORD_EMPTY) {
            endDate = TEST_KEYWORD_END_DATE + endDate;
        }
        
        if (endTime != TEST_KEYWORD_EMPTY) {
            endTime = TEST_KEYWORD_END_TIME + endTime;
        }
        
        if (startDate != TEST_KEYWORD_EMPTY) {
            startDate = TEST_KEYWORD_START_DATE + startDate;
        }
        
        if (startTime != TEST_KEYWORD_EMPTY) {
            startTime = TEST_KEYWORD_START_TIME + startTime;
        }

        if (desc != TEST_KEYWORD_EMPTY) {
            desc = TEST_KEYWORD_DESC + desc;
        }
        
        if (priority != -1) {
            editPriority = TEST_KEYWORD_PRIORITY + priority;
        }
        
        if (recurType.equals(TEST_RECURTYPE_DAY)) {
            editRecur = TEST_KEYWORD_RECURDAY;
        } else if (recurType.equals(TEST_RECURTYPE_WEEK)) {
            editRecur = TEST_KEYWORD_RECURWEEK;
        } else if (recurType.equals(TEST_RECURTYPE_MONTH)) {
            editRecur = TEST_KEYWORD_RECURMONTH;
        } else if (recurType.equals(TEST_RECURTYPE_YEAR)) {
            editRecur = TEST_KEYWORD_RECURYEAR;
        }
        
        formattedCommand = String.format(TEST_COMMAND, runningIndex, desc, endDate, endTime, 
                                         startDate, startTime, remind, editPriority, editRecur);
        
        return formattedCommand;
    }

    @Test
    public void test() throws Exception {
        // testEditTaskCommand parameters: 
        // 1. expected task type
        // 2. test case description
        // 3. task id
        // 4. test command
        // 5. expected task description
        // 6. expected end
        // 7. expected start
        // 8. expected reminder
        // 9. expected priority
        // 10. expected recur status
        // 11. expected recur type
        
        /*** FloatingTask Test Cases ***/
        testEditTaskCommand(TEST_TASKTYPE_FLOATING, TEST_FLOATING_EDIT_DESCRIPTION, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,    // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION, // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,      // End date
                                TEST_KEYWORD_EMPTY,      // End time
                                TEST_KEYWORD_EMPTY,      // Start date
                                TEST_KEYWORD_EMPTY,      // Start time
                                TEST_KEYWORD_EMPTY,      // Reminder date and time
                                -1,                      // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),    // Recur type
                            TEST_SAMPLE_DESCRIPTION, null, null, null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL); 
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_FLOATING_ADD_END_DATE_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,             // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,          // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,             // End date
                                TEST_SAMPLE_END_TIME,             // End time
                                TEST_KEYWORD_EMPTY,               // Start date
                                TEST_KEYWORD_EMPTY,               // Start time
                                TEST_KEYWORD_EMPTY,               // Reminder date and time
                                -1,                               // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),             // Recur type
                            TEST_SAMPLE_DESCRIPTION, getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_FLOATING_ADD_END_DATE_TIME_AND_REMINDER, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,            // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), null, 
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_FLOATING_ADD_END_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,            // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, getExpectedEnd(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_FLOATING_ADD_END_TIME_AND_REMINDER, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,            // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_END_TIME), null, 
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_DATE_AND_END_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, DateTimeHelper.getTime(DateTimeHelper.now())), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_TIME_AND_END_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_DATE_TIME_AND_END_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_DATE_AND_END_DATE, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, DateTimeHelper.getTime(DateTimeHelper.now())), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, DateTimeHelper.getTime(DateTimeHelper.now())), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_TIME_AND_END_DATE, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, DateTimeHelper.getTime(DateTimeHelper.now())), 
                            getExpectedStart(TEST_SAMPLE_TODAY_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_DATE_TIME_AND_END_DATE, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, DateTimeHelper.getTime(DateTimeHelper.now())), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_DATE_AND_END_DATE_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, DateTimeHelper.getTime(DateTimeHelper.now())), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_TIME_AND_END_DATE_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,            // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_TODAY_DATE,TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_FLOATING_ADD_START_DATE_TIME_AND_END_DATE_TIME, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,            // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE,TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_FLOATING, TEST_FLOATING_EDIT_PRIORITY, TEST_SAMPLE_FLOAT_ID,
                            getTestCommand(
                                TEST_SAMPLE_FLOAT_INDEX,            // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                TEST_SAMPLE_PRIORITY,            // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            null, null, null, TEST_SAMPLE_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        /*** DeadlineTask Test Cases ***/
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_DESCRIPTION, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE,DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_END_DATE_AND_REMINDER, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_END_DATE, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_END_DATE_TIME, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_END_DATE_TIME_AND_REMINDER, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            null, getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_DEADLINE_ADD_START_TIME, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_TODAY_DATE,TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_DEADLINE_ADD_START_DATE_TIME, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE,TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_PRIORITY, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                DEADLINE_CREATED_SAMPLE_END_DATE,              // End date
                                DEADLINE_CREATED_SAMPLE_END_TIME,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                TEST_SAMPLE_PRIORITY,            // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_SAMPLE_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_RECURTYPE_DAY, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_DAY),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_DAY);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_RECURTYPE_WEEK, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Floating Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_WEEK),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_WEEK);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_RECURTYPE_MONTH, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_MONTH),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_MONTH);
        
        testEditTaskCommand(TEST_TASKTYPE_DEADLINE, TEST_DEADLINE_EDIT_RECURTYPE_YEAR, TEST_SAMPLE_DEADLINE_ID,
                            getTestCommand(
                                TEST_SAMPLE_DEADLINE_INDEX,         // Running index of sample Deadline Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_YEAR),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(DEADLINE_CREATED_SAMPLE_END_DATE, DEADLINE_CREATED_SAMPLE_END_TIME), 
                            null, null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_YEAR);
    
        /*** TimedTask Test Cases ***/
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_DESCRIPTION, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_END_DATE, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_END_DATE_AND_REMINDER, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME),
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_END_TIME, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_END_TIME_AND_REMINDER, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_END_DATE_TIME, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_END_DATE_TIME_AND_REMINDER, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME),
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_DATE, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_DATE_AND_REMINDER, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_TIME, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_TIME_AND_REMINDER, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_DATE_TIME, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_DATE_TIME_REMINDER, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_SAMPLE_REMINDER_DATE_TIME,  // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            getExpectedReminder(TEST_SAMPLE_REMINDER_DATE_TIME), 
                            TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_TIME_END_DATE, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_DATE_END_TIME, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_START_DATE_TIME_END_DATE_TIME, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_SAMPLE_END_DATE,            // End date
                                TEST_SAMPLE_END_TIME,            // End time
                                TEST_SAMPLE_START_DATE,          // Start date
                                TEST_SAMPLE_START_TIME,          // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_NULL),            // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TEST_SAMPLE_END_DATE, TEST_SAMPLE_END_TIME), 
                            getExpectedStart(TEST_SAMPLE_START_DATE, TEST_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, false, TEST_RECURTYPE_NULL);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_RECURTYPE_DAY, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_DAY),             // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_DAY);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_RECURTYPE_WEEK, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_WEEK),             // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_WEEK);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_RECURTYPE_MONTH, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_MONTH),             // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_MONTH);
        
        testEditTaskCommand(TEST_TASKTYPE_TIMED, TEST_TIMED_EDIT_RECURTYPE_YEAR, TEST_SAMPLE_TIMED_ID,
                            getTestCommand(
                                TEST_SAMPLE_TIMED_INDEX,            // Running index of sample Timed Task
                                TEST_SAMPLE_DESCRIPTION,         // Sample description for edited Task
                                TEST_KEYWORD_EMPTY,              // End date
                                TEST_KEYWORD_EMPTY,              // End time
                                TEST_KEYWORD_EMPTY,              // Start date
                                TEST_KEYWORD_EMPTY,              // Start time
                                TEST_KEYWORD_EMPTY,              // Reminder date and time
                                -1,                              // Priority: -1 symbolize no specified priority
                                TEST_RECURTYPE_YEAR),             // Recur type
                            TEST_SAMPLE_DESCRIPTION, 
                            getExpectedEnd(TIMED_CREATED_SAMPLE_END_DATE, TIMED_CREATED_SAMPLE_END_TIME), 
                            getExpectedStart(TIMED_CREATED_SAMPLE_START_DATE, TIMED_CREATED_SAMPLE_START_TIME), 
                            null, TEST_TASK_DEFAULT_PRIORITY, true, TEST_RECURTYPE_YEAR);
    }

    /**
     * Executes the command specified by the input userCommand and perform
     * various assert checks to verify expected results (input parameters)
     * against actual results
     * 
     * @param expectedTaskType
     *            Expected Task type (FLOATING,DEADLINE,TIMED)
     * @param testDescription
     *            Description of this test case
     * @param taskId
     *            TaskID of the Task being edited (For retrieving and performing
     *            assert checks)
     * @param userCommand
     *            Sample userinput that will be treated as valid user command
     *            String
     * @param expectedTaskDescription
     *            Expected Task description
     * @param expectedEnd
     *            Expected End (date/time)
     * @param expectedStart
     *            Expected Start (date/time)
     * @param expectedReminder
     *            Expected Reminder (date/time)
     * @throws Exception
     */
    public void testEditTaskCommand(Task.TASK_TYPE expectedTaskType, String testDescription, int taskId,
            String userCommand, String expectedTaskDescription, LocalDateTime expectedEnd, LocalDateTime expectedStart,
            LocalDateTime expectedReminder, int expectedTaskPriority, boolean expectedRecurStatus, Task.RECUR_TYPE expectedRecurType) throws Exception {
        prepareDummyData();

        // Execute the test command
        _dummy_editTaskCommand = (EditTaskCommand) _commandParserInstance.parse(userCommand, initStateTaskId());
        _dummy_editTaskCommand.execute();

        // Get the task of the modified task and retrieve the TASK_TYPE to check
        // what kind of check should be done
        _dummy_genericTask = TaskController.getInstance().getTask(taskId);
        Task.TASK_TYPE type = _dummy_genericTask.getType();

        switch (type) {
        case FLOATING:
            _dummy_floatingTask = (FloatingTask) _dummy_genericTask;
            if (expectedTaskType != null) {
                testTaskType(testDescription, expectedTaskType, type);
            }
            if (expectedTaskDescription != null) {
                testTaskDescription(testDescription, expectedTaskDescription, _dummy_floatingTask.getDescription());
            }
            if (expectedTaskPriority != -1) {
                testTaskPriority(testDescription, expectedTaskPriority, _dummy_floatingTask.getPriority());
            }
            break;
        case DEADLINE:
            _dummy_deadlineTask = (DeadlineTask) _dummy_genericTask;
            if (expectedTaskType != null) {
                testTaskType(testDescription, expectedTaskType, type);
            }
            if (expectedTaskDescription != null) {
                testTaskDescription(testDescription, expectedTaskDescription, _dummy_deadlineTask.getDescription());
            }
            if (expectedEnd != null) {
                testTaskEnd(testDescription, expectedEnd, _dummy_deadlineTask.getEnd());
            }
            if (expectedReminder != null) {
                testTaskReminder(testDescription, expectedReminder, _dummy_deadlineTask.getReminder());
            }
            if (expectedTaskPriority != -1) {
                testTaskPriority(testDescription, expectedTaskPriority, _dummy_deadlineTask.getPriority());
            }
            testTaskRecurrence(testDescription, expectedRecurStatus, expectedRecurType, _dummy_deadlineTask.isRecurring(), _dummy_deadlineTask.getRecurPeriod());
            break;
        case TIMED:
            _dummy_timedTask = (TimedTask) _dummy_genericTask;
            if (expectedTaskType != null) {
                testTaskType(testDescription, expectedTaskType, type);
            }
            if (expectedTaskDescription != null) {
                testTaskDescription(testDescription, expectedTaskDescription, _dummy_timedTask.getDescription());
            }
            if (expectedStart != null) {
                testTaskStart(testDescription, expectedStart, _dummy_timedTask.getStart());
            }
            if (expectedEnd != null) {
                testTaskEnd(testDescription, expectedEnd, _dummy_timedTask.getEnd());
            }
            if (expectedReminder != null) {
                testTaskReminder(testDescription, expectedReminder, _dummy_timedTask.getReminder());
            }
            if (expectedTaskPriority != -1) {
                testTaskPriority(testDescription, expectedTaskPriority, _dummy_timedTask.getPriority());
            }
            testTaskRecurrence(testDescription, expectedRecurStatus, expectedRecurType, _dummy_timedTask.isRecurring(), _dummy_timedTask.getRecurPeriod());

            break;
        default:
            throw new Exception("Task has invalid type!");
        }
    }

    public LocalDateTime getExpectedEnd(String end_date, String end_time) {
        String end = TEST_KEYWORD_EMPTY;
        if (end_date != null) {
            end += end_date + WHITE_SPACE;
        }
        if (end_time != null) {
            end += end_time;
        }
        return DateTimeHelper.parseStringToDateTime(end);
    }

    public LocalDateTime getExpectedStart(String start_date, String start_time) {
        String start = TEST_KEYWORD_EMPTY;
        if (start_date != null) {
            start += start_date + WHITE_SPACE;
        }
        if (start_time != null) {
            start += start_time;
        }
        return DateTimeHelper.parseStringToDateTime(start);
    }
    
    
    public LocalDateTime getExpectedReminder(String reminder_date_time) {
        String reminder = TEST_KEYWORD_EMPTY;
        if (reminder_date_time != null) {
            reminder += reminder_date_time;
        }
        return DateTimeHelper.parseStringToDateTime(reminder);
    }
    
    public void testTaskType(String testDescription, Task.TASK_TYPE expectedTaskType, Task.TASK_TYPE actualTaskType) {
        assertEquals(testDescription, expectedTaskType, actualTaskType);
    }

    public void testTaskDescription(String testDescription, String expectedDescription, String actualDescription) {
        assertEquals(testDescription, expectedDescription, actualDescription);
    }

    public void testTaskStart(String testDescription, LocalDateTime expectedStart, LocalDateTime actualStart) {
        String expectedStartDate = DateTimeHelper.getDate(expectedStart);
        String expectedStartTime = DateTimeHelper.getTime(expectedStart);
        String actualStartDate = DateTimeHelper.getDate(actualStart);
        String actualStartTime = DateTimeHelper.getTime(actualStart);
        assertEquals(testDescription, expectedStartDate, actualStartDate);
        assertEquals(testDescription, expectedStartTime, actualStartTime);
    }

    public void testTaskEnd(String testDescription, LocalDateTime expectedEnd, LocalDateTime actualEnd) {
        String expectedEndDate = DateTimeHelper.getDate(expectedEnd);
        String expectedEndTime = DateTimeHelper.getTime(expectedEnd);
        String actualEndDate = DateTimeHelper.getDate(actualEnd);
        String actualEndTime = DateTimeHelper.getTime(actualEnd);
        assertEquals(testDescription, expectedEndDate, actualEndDate);
        assertEquals(testDescription, expectedEndTime, actualEndTime);
    }

    public void testTaskReminder(String testDescription, LocalDateTime expectedReminder, LocalDateTime actualReminder) {
        String expectedReminderDate = DateTimeHelper.getDate(expectedReminder);
        String expectedReminderTime = DateTimeHelper.getTime(expectedReminder);
        String actualReminderDate = DateTimeHelper.getDate(actualReminder);
        String actualReminderTime = DateTimeHelper.getTime(actualReminder);
        assertEquals(testDescription, expectedReminderDate, actualReminderDate);
        assertEquals(testDescription, expectedReminderTime, actualReminderTime);
    }
    
    public void testTaskPriority(String testDescription, int expectedPriority, int actualPriority) {
        assertEquals(testDescription, expectedPriority, actualPriority);
    }
    
    public void testTaskRecurrence(String testDescription, boolean expectedRecurStatus, Task.RECUR_TYPE expectedRecurType, boolean actualRecurStatus, Task.RECUR_TYPE actualRecurType) {
        assertEquals(testDescription, expectedRecurStatus, actualRecurStatus);
        assertEquals(testDescription, expectedRecurType, actualRecurType);
    }
    
}
```
